    hierarchy: 
    - platform
{% if organization is defined %}
    {# Azure DevOps resources #}
{% if qualifiers and qualifiers.project is defined %}
    - organization
    - project
{% elif qualifiers and qualifiers.resource and match_resource.resource_type.name != 'organization' %}
    - organization
{% endif %}
{% else %}
    {# Azure ARM resources #}
{% if subscription_name is defined %}
    - subscription_name
{% else %}
    - subscription_id
{% endif %}
{% if resource_group is defined or (match_resource.resource_group is defined and match_resource.resource_group.name is defined) %}
    - resource_group
{% endif %}
{% endif %}
    - resource_type
{% if match_resource.name %}
    - resource_name
{% endif %}
{% if resource_path %}
    resourcePath: "{{ resource_path }}"
{% endif %}

