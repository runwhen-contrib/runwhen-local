{"version":3,"file":"reconfigure-cache.js","sourceRoot":"","sources":["../../../../lib/workers/repository/reconfigure/reconfigure-cache.ts"],"names":[],"mappings":";;AAGA,8DAeC;AAED,oEAOC;AA3BD,4CAAyC;AACzC,+DAA0D;AAE1D,SAAgB,yBAAyB,CACvC,oBAA4B,EAC5B,aAAsB;IAEtB,MAAM,KAAK,GAAG,IAAA,qBAAQ,GAAE,CAAC;IACzB,MAAM,sBAAsB,GAAG;QAC7B,oBAAoB;QACpB,aAAa;KACd,CAAC;IACF,IAAI,KAAK,CAAC,sBAAsB,EAAE,CAAC;QACjC,eAAM,CAAC,KAAK,CAAC,EAAE,sBAAsB,EAAE,EAAE,iCAAiC,CAAC,CAAC;IAC9E,CAAC;SAAM,CAAC;QACN,eAAM,CAAC,KAAK,CAAC,EAAE,sBAAsB,EAAE,EAAE,iCAAiC,CAAC,CAAC;IAC9E,CAAC;IACD,KAAK,CAAC,sBAAsB,GAAG,sBAAsB,CAAC;AACxD,CAAC;AAED,SAAgB,4BAA4B;IAC1C,MAAM,KAAK,GAAG,IAAA,qBAAQ,GAAE,CAAC;IAEzB,IAAI,KAAK,EAAE,sBAAsB,EAAE,CAAC;QAClC,eAAM,CAAC,KAAK,CAAC,iCAAiC,CAAC,CAAC;QAChD,OAAO,KAAK,CAAC,sBAAsB,CAAC;IACtC,CAAC;AACH,CAAC","sourcesContent":["import { logger } from '../../../logger';\nimport { getCache } from '../../../util/cache/repository';\n\nexport function setReconfigureBranchCache(\n  reconfigureBranchSha: string,\n  isConfigValid: boolean,\n): void {\n  const cache = getCache();\n  const reconfigureBranchCache = {\n    reconfigureBranchSha,\n    isConfigValid,\n  };\n  if (cache.reconfigureBranchCache) {\n    logger.debug({ reconfigureBranchCache }, 'Update reconfigure branch cache');\n  } else {\n    logger.debug({ reconfigureBranchCache }, 'Create reconfigure branch cache');\n  }\n  cache.reconfigureBranchCache = reconfigureBranchCache;\n}\n\nexport function deleteReconfigureBranchCache(): void {\n  const cache = getCache();\n\n  if (cache?.reconfigureBranchCache) {\n    logger.debug('Delete reconfigure branch cache');\n    delete cache.reconfigureBranchCache;\n  }\n}\n"]}