{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../lib/util/exec/types.ts"],"names":[],"mappings":"","sourcesContent":["import type { SpawnOptions as ChildProcessSpawnOptions } from 'node:child_process';\n\nexport interface ToolConstraint {\n  toolName: string;\n  constraint?: string | null;\n}\n\nexport interface ToolConfig {\n  datasource: string;\n  extractVersion?: string;\n  packageName: string;\n  hash?: boolean;\n  versioning: string;\n}\n\nexport type Opt<T> = T | null | undefined;\n\nexport type VolumesPair = [string, string];\nexport type VolumeOption = Opt<string | VolumesPair>;\n\nexport interface DockerOptions {\n  volumes?: Opt<VolumeOption[]>;\n  envVars?: Opt<Opt<string>[]>;\n  cwd?: Opt<string>;\n}\n\nexport type DataListener = (chunk: any) => void;\nexport interface OutputListeners {\n  stdout?: DataListener[];\n  stderr?: DataListener[];\n}\n\nexport interface RawExecOptions extends ChildProcessSpawnOptions {\n  // TODO: to be removed in #16655\n  /**\n   * @deprecated renovate uses utf8, encoding property is ignored.\n   */\n  encoding: string;\n  maxBuffer?: number | undefined;\n  cwd?: string;\n  outputListeners?: OutputListeners;\n}\n\nexport interface ExecResult {\n  stdout: string;\n  stderr: string;\n}\n\nexport type ExtraEnv<T = unknown> = Record<string, T>;\n\nexport interface ExecOptions {\n  cwd?: string;\n  cwdFile?: string;\n  env?: Opt<ExtraEnv>;\n  extraEnv?: Opt<ExtraEnv>;\n  docker?: Opt<DockerOptions>;\n  toolConstraints?: Opt<ToolConstraint[]>;\n  preCommands?: Opt<string[]>;\n  ignoreStdout?: boolean;\n  // Following are pass-through to child process\n  maxBuffer?: number | undefined;\n  timeout?: number | undefined;\n}\n"]}