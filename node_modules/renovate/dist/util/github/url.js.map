{"version":3,"file":"url.js","sourceRoot":"","sources":["../../../lib/util/github/url.ts"],"names":[],"mappings":";;AAKA,4CAGC;AAED,sCAeC;AAED,oCAMC;AAjCD,gCAA6C;AAE7C,MAAM,oBAAoB,GAAG,qBAAqB,CAAC;AACnD,MAAM,iBAAiB,GAAG,yBAAyB,CAAC;AAEpD,SAAgB,gBAAgB,CAAC,WAA+B;IAC9D,qDAAqD;IACrD,OAAO,IAAA,yBAAmB,EAAC,WAAW,IAAI,oBAAoB,CAAC,CAAC;AAClE,CAAC;AAED,SAAgB,aAAa,CAAC,WAA+B;IAC3D,MAAM,aAAa,GAAG,gBAAgB,CAAC,WAAW,CAAC,CAAC;IAEpD,IACE,aAAa,KAAK,oBAAoB;QACtC,aAAa,KAAK,iBAAiB,EACnC,CAAC;QACD,OAAO,iBAAiB,CAAC;IAC3B,CAAC;IAED,IAAI,aAAa,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC;QACvC,OAAO,aAAa,CAAC;IACvB,CAAC;IAED,OAAO,GAAG,aAAa,SAAS,CAAC;AACnC,CAAC;AAED,SAAgB,YAAY,CAC1B,WAAmB,EACnB,WAAoB;IAEpB,MAAM,aAAa,GAAG,gBAAgB,CAAC,WAAW,CAAC,CAAC;IACpD,OAAO,GAAG,aAAa,GAAG,WAAW,EAAE,CAAC;AAC1C,CAAC","sourcesContent":["import { ensureTrailingSlash } from '../url';\n\nconst defaultSourceUrlBase = 'https://github.com/';\nconst defaultApiBaseUrl = 'https://api.github.com/';\n\nexport function getSourceUrlBase(registryUrl: string | undefined): string {\n  // default to GitHub.com if no GHE host is specified.\n  return ensureTrailingSlash(registryUrl ?? defaultSourceUrlBase);\n}\n\nexport function getApiBaseUrl(registryUrl: string | undefined): string {\n  const sourceUrlBase = getSourceUrlBase(registryUrl);\n\n  if (\n    sourceUrlBase === defaultSourceUrlBase ||\n    sourceUrlBase === defaultApiBaseUrl\n  ) {\n    return defaultApiBaseUrl;\n  }\n\n  if (sourceUrlBase.endsWith('/api/v3/')) {\n    return sourceUrlBase;\n  }\n\n  return `${sourceUrlBase}api/v3/`;\n}\n\nexport function getSourceUrl(\n  packageName: string,\n  registryUrl?: string,\n): string {\n  const sourceUrlBase = getSourceUrlBase(registryUrl);\n  return `${sourceUrlBase}${packageName}`;\n}\n"]}