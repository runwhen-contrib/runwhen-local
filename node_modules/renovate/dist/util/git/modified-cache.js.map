{"version":3,"file":"modified-cache.js","sourceRoot":"","sources":["../../../lib/util/git/modified-cache.ts"],"names":[],"mappings":";;AAGA,0DAcC;AAED,0DAeC;AAlCD,yCAAsC;AACtC,oDAA+C;AAE/C,SAAgB,uBAAuB,CACrC,UAAkB,EAClB,SAAwB;IAExB,MAAM,KAAK,GAAG,IAAA,qBAAQ,GAAE,CAAC;IACzB,MAAM,MAAM,GAAG,KAAK,CAAC,QAAQ,EAAE,IAAI,CACjC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,UAAU,KAAK,UAAU,CAC7C,CAAC;IAEF,IAAI,MAAM,EAAE,GAAG,KAAK,SAAS,IAAI,MAAM,CAAC,UAAU,KAAK,SAAS,EAAE,CAAC;QACjE,OAAO,MAAM,CAAC,UAAU,CAAC;IAC3B,CAAC;IAED,OAAO,IAAI,CAAC;AACd,CAAC;AAED,SAAgB,uBAAuB,CACrC,UAAkB,EAClB,UAAmB;IAEnB,MAAM,KAAK,GAAG,IAAA,qBAAQ,GAAE,CAAC;IACzB,MAAM,MAAM,GAAG,KAAK,CAAC,QAAQ,EAAE,IAAI,CACjC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,UAAU,KAAK,UAAU,CAC7C,CAAC;IAEF,IAAI,CAAC,MAAM,EAAE,CAAC;QACZ,eAAM,CAAC,KAAK,CAAC,qDAAqD,CAAC,CAAC;QACpE,OAAO;IACT,CAAC;IAED,MAAM,CAAC,UAAU,GAAG,UAAU,CAAC;AACjC,CAAC","sourcesContent":["import { logger } from '../../logger';\nimport { getCache } from '../cache/repository';\n\nexport function getCachedModifiedResult(\n  branchName: string,\n  branchSha: string | null,\n): boolean | null {\n  const cache = getCache();\n  const branch = cache.branches?.find(\n    (branch) => branch.branchName === branchName,\n  );\n\n  if (branch?.sha === branchSha && branch.isModified !== undefined) {\n    return branch.isModified;\n  }\n\n  return null;\n}\n\nexport function setCachedModifiedResult(\n  branchName: string,\n  isModified: boolean,\n): void {\n  const cache = getCache();\n  const branch = cache.branches?.find(\n    (branch) => branch.branchName === branchName,\n  );\n\n  if (!branch) {\n    logger.debug(`setCachedModifiedResult(): Branch cache not present`);\n    return;\n  }\n\n  branch.isModified = isModified;\n}\n"]}