{"version":3,"file":"schema.js","sourceRoot":"","sources":["../../../../lib/modules/datasource/galaxy-collection/schema.ts"],"names":[],"mappings":";;;AAAA,6BAAwB;AACxB,uDAAyD;AAG5C,QAAA,QAAQ,GAAG,OAAC,CAAC,MAAM,CAAC;IAC/B,UAAU,EAAE,OAAC,CAAC,OAAO,EAAE;IACvB,eAAe,EAAE,OAAC,CAAC,MAAM,CAAC;QACxB,OAAO,EAAE,OAAC,CAAC,MAAM,EAAE;KACpB,CAAC;CACH,CAAC,CAAC;AAGU,QAAA,gBAAgB,GAAG,OAAC;KAC9B,MAAM,CAAC;IACN,IAAI,EAAE,OAAC,CAAC,KAAK,CACX,OAAC,CAAC,MAAM,CAAC;QACP,OAAO,EAAE,OAAC,CAAC,MAAM,EAAE;QACnB,UAAU,EAAE,0BAAc;KAC3B,CAAC,CACH;CACF,CAAC;KACD,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE;IACtB,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE;QACxB,OAAO;YACL,OAAO,EAAE,KAAK,CAAC,OAAO;YACtB,gBAAgB,EAAE,KAAK,CAAC,UAAU;SACnC,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAGQ,QAAA,uBAAuB,GAAG,OAAC;KACrC,MAAM,CAAC;IACN,OAAO,EAAE,OAAC,CAAC,MAAM,EAAE;IACnB,YAAY,EAAE,OAAC,CAAC,MAAM,EAAE;IACxB,QAAQ,EAAE,OAAC,CAAC,MAAM,CAAC;QACjB,MAAM,EAAE,OAAC,CAAC,MAAM,EAAE;KACnB,CAAC;IACF,QAAQ,EAAE,OAAC,CAAC,MAAM,CAAC;QACjB,QAAQ,EAAE,OAAC,CAAC,MAAM,EAAE;QACpB,UAAU,EAAE,OAAC,CAAC,MAAM,EAAE;QACtB,YAAY,EAAE,OAAC,CAAC,MAAM,CAAC,OAAC,CAAC,MAAM,EAAE,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,CAAC,QAAQ,EAAE;KAC1D,CAAC;CACH,CAAC;KACD,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;IACnB,OAAO;QACL,OAAO,EAAE,KAAK,CAAC,OAAO;QACtB,WAAW,EAAE,KAAK,CAAC,YAAY;QAC/B,SAAS,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM;QAChC,YAAY,EAAE,KAAK,CAAC,QAAQ,CAAC,YAAY;QACzC,SAAS,EAAE,KAAK,CAAC,QAAQ,CAAC,UAAU;KACrC,CAAC;AACJ,CAAC,CAAC,CAAC","sourcesContent":["import { z } from 'zod';\nimport { MaybeTimestamp } from '../../../util/timestamp';\n\nexport type GalaxyV3 = z.infer<typeof GalaxyV3>;\nexport const GalaxyV3 = z.object({\n  deprecated: z.boolean(),\n  highest_version: z.object({\n    version: z.string(),\n  }),\n});\n\nexport type GalaxyV3Versions = z.infer<typeof GalaxyV3Versions>;\nexport const GalaxyV3Versions = z\n  .object({\n    data: z.array(\n      z.object({\n        version: z.string(),\n        created_at: MaybeTimestamp,\n      }),\n    ),\n  })\n  .transform(({ data }) => {\n    return data.map((value) => {\n      return {\n        version: value.version,\n        releaseTimestamp: value.created_at,\n      };\n    });\n  });\n\nexport type GalaxyV3DetailedVersion = z.infer<typeof GalaxyV3DetailedVersion>;\nexport const GalaxyV3DetailedVersion = z\n  .object({\n    version: z.string(),\n    download_url: z.string(),\n    artifact: z.object({\n      sha256: z.string(),\n    }),\n    metadata: z.object({\n      homepage: z.string(),\n      repository: z.string(),\n      dependencies: z.record(z.string(), z.string()).optional(),\n    }),\n  })\n  .transform((value) => {\n    return {\n      version: value.version,\n      downloadUrl: value.download_url,\n      newDigest: value.artifact.sha256,\n      dependencies: value.metadata.dependencies,\n      sourceUrl: value.metadata.repository,\n    };\n  });\n"]}