{"version":3,"file":"util.js","sourceRoot":"","sources":["../../../../lib/modules/datasource/sbt-package/util.ts"],"names":[],"mappings":";;AAMA,4CAMC;AAED,4CAOC;AArBD,+CAAkD;AAClD,yDAAqD;AACrD,4DAAyD;AAEzD,MAAM,UAAU,GAAG,kCAAkC,CAAC;AAEtD,SAAgB,gBAAgB,CAC9B,IAAY,EACZ,aAA0D;IAE1D,MAAM,UAAU,GAAG,IAAA,mBAAW,EAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC;IACvD,OAAO,IAAA,sBAAS,EAAC,UAAU,EAAE,aAAa,CAAC,CAAC;AAC9C,CAAC;AAED,SAAgB,gBAAgB,CAAC,QAAyB;IACxD,IAAI,QAAQ,EAAE,MAAM,EAAE,CAAC;QACrB,OAAO,QAAQ,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,OAAO,EAAE,EAAE,CAChD,IAAA,iBAAO,EAAC,OAAO,EAAE,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,aAAa,CAChE,CAAC;IACJ,CAAC;IACD,OAAO,IAAI,CAAC;AACd,CAAC","sourcesContent":["import { coerceArray } from '../../../util/array';\nimport { filterMap } from '../../../util/filter-map';\nimport { compare } from '../../versioning/maven/compare';\n\nconst linkRegExp = /(?<=href=['\"])[^'\"]*(?=\\/['\"])/gi;\n\nexport function extractPageLinks(\n  html: string,\n  filterMapHref: (href: string) => string | null | undefined,\n): string[] {\n  const unfiltered = coerceArray(html.match(linkRegExp));\n  return filterMap(unfiltered, filterMapHref);\n}\n\nexport function getLatestVersion(versions: string[] | null): string | null {\n  if (versions?.length) {\n    return versions.reduce((latestVersion, version) =>\n      compare(version, latestVersion) === 1 ? version : latestVersion,\n    );\n  }\n  return null;\n}\n"]}