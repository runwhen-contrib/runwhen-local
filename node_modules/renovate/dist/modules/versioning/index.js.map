{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../lib/modules/versioning/index.ts"],"names":[],"mappings":";;;AAkBA,kBAcC;;AAhCD,wDAAgC;AAChC,qCAAsC;AACtC,wEAAkD;AAGlD,kDAAwB;AAEX,QAAA,iBAAiB,GAAG,aAAa,CAAC;AAExC,MAAM,iBAAiB,GAAG,GAAa,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,aAAW,CAAC,IAAI,EAAE,CAAC,CAAC;AAAnE,QAAA,iBAAiB,qBAAkD;AAChF;;GAEG;AACI,MAAM,cAAc,GAAG,GAG5B,EAAE,CAAC,aAAW,CAAC;AAHJ,QAAA,cAAc,kBAGV;AAEjB,SAAgB,GAAG,CAAC,UAAqC;IACvD,MAAM,GAAG,GAAG,mBAAU,CAAC,SAAS,CAAC,UAAU,IAAI,yBAAiB,CAAC,EAAE,CAAC,CAAC;IAErE,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;QACjB,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC;QACjC,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,KAAK,QAAQ,IAAI,KAAK,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC;YAC5D,MAAM,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;QAC3B,CAAC;QAED,4CAA4C;QAC5C,MAAM,GAAG,CAAC,KAAK,CAAC;IAClB,CAAC;IAED,OAAO,GAAG,CAAC,IAAI,CAAC;AAClB,CAAC","sourcesContent":["import versionings from './api';\nimport { Versioning } from './schema';\nimport * as semverCoerced from './semver-coerced';\nimport type { VersioningApi, VersioningApiConstructor } from './types';\n\nexport * from './types';\n\nexport const defaultVersioning = semverCoerced;\n\nexport const getVersioningList = (): string[] => Array.from(versionings.keys());\n/**\n * Get versioning map. Can be used to dynamically add new versioning type\n */\nexport const getVersionings = (): Map<\n  string,\n  VersioningApi | VersioningApiConstructor\n> => versionings;\n\nexport function get(versioning: string | null | undefined): VersioningApi {\n  const res = Versioning.safeParse(versioning ?? defaultVersioning.id);\n\n  if (!res.success) {\n    const [issue] = res.error.issues;\n    if (issue && issue.code === 'custom' && issue.params?.error) {\n      throw issue.params.error;\n    }\n\n    // istanbul ignore next: should never happen\n    throw res.error;\n  }\n\n  return res.data;\n}\n"]}