{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../lib/modules/versioning/aws-machine-image/index.ts"],"names":[],"mappings":";;;AAAA,+CAA4C;AAE5C,wCAAkD;AAGrC,QAAA,EAAE,GAAG,mBAAmB,CAAC;AACzB,QAAA,WAAW,GAAG,mBAAmB,CAAC;AAElC,QAAA,IAAI,GAAG,EAAE,CAAC;AAEV,QAAA,cAAc,GAAG,KAAK,CAAC;AAEpC,MAAM,oBAAoB,GAAG,IAAA,aAAK,EAAC,+BAA+B,CAAC,CAAC;AAEpE,MAAM,4BAA6B,SAAQ,8BAAoB;IACnD,MAAM,CAAC,OAAe;QAC9B,IAAI,OAAO,EAAE,CAAC;YACZ,MAAM,WAAW,GAAG,oBAAoB,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,MAAM,CAAC;YAC/D,IAAI,WAAW,EAAE,CAAC;gBAChB,MAAM,EAAE,MAAM,EAAE,GAAG,WAAW,CAAC;gBAC/B,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC;YACxC,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAEkB,QAAQ,CAAC,QAAgB,EAAE,MAAc;QAC1D,OAAO,CAAC,CAAC;IACX,CAAC;CACF;AAEY,QAAA,GAAG,GAAkB,IAAI,4BAA4B,EAAE,CAAC;AAErE,kBAAe,WAAG,CAAC","sourcesContent":["import { regEx } from '../../../util/regex';\nimport type { GenericVersion } from '../generic';\nimport { GenericVersioningApi } from '../generic';\nimport type { VersioningApi } from '../types';\n\nexport const id = 'aws-machine-image';\nexport const displayName = 'aws-machine-image';\n\nexport const urls = [];\n\nexport const supportsRanges = false;\n\nconst awsMachineImageRegex = regEx('^ami-(?<suffix>[a-z0-9]{17})$');\n\nclass AwsMachineImageVersioningApi extends GenericVersioningApi {\n  protected _parse(version: string): GenericVersion | null {\n    if (version) {\n      const matchGroups = awsMachineImageRegex.exec(version)?.groups;\n      if (matchGroups) {\n        const { suffix } = matchGroups;\n        return { release: [1, 0, 0], suffix };\n      }\n    }\n    return null;\n  }\n\n  protected override _compare(_version: string, _other: string): number {\n    return 1;\n  }\n}\n\nexport const api: VersioningApi = new AwsMachineImageVersioningApi();\n\nexport default api;\n"]}