{"version":3,"file":"extract.js","sourceRoot":"","sources":["../../../../lib/modules/manager/scalafmt/extract.ts"],"names":[],"mappings":";;AASA,gDAoBC;;AA7BD,+CAA4C;AAC5C,sEAA4E;AAC5E,kFAA4D;AAG5D,MAAM,oBAAoB,GAAG,IAAA,aAAK,EAChC,gDAAgD,CACjD,CAAC;AAEF,SAAgB,kBAAkB,CAAC,OAAe;IAChD,MAAM,WAAW,GAAG,oBAAoB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACvD,MAAM,eAAe,GAAG,WAAW,EAAE,MAAM,EAAE,OAAO,CAAC;IAErD,IAAI,CAAC,eAAe,EAAE,CAAC;QACrB,OAAO,IAAI,CAAC;IACd,CAAC;IAED,MAAM,kBAAkB,GAAsB;QAC5C,UAAU,EAAE,0CAAwB,CAAC,EAAE;QACvC,OAAO,EAAE,UAAU;QACnB,WAAW,EAAE,oBAAoB;QACjC,UAAU,EAAE,gBAAgB,CAAC,EAAE;QAC/B,YAAY,EAAE,eAAe;QAC7B,cAAc,EAAE,oBAAoB;KACrC,CAAC;IAEF,OAAO;QACL,IAAI,EAAE,CAAC,kBAAkB,CAAC;KAC3B,CAAC;AACJ,CAAC","sourcesContent":["import { regEx } from '../../../util/regex';\nimport { GithubReleasesDatasource } from '../../datasource/github-releases';\nimport * as semverVersioning from '../../versioning/semver';\nimport type { PackageDependency, PackageFileContent } from '../types';\n\nconst scalafmtVersionRegex = regEx(\n  'version *= *\"?(?<version>\\\\d+\\\\.\\\\d+\\\\.\\\\d+)\"?',\n);\n\nexport function extractPackageFile(content: string): PackageFileContent | null {\n  const regexResult = scalafmtVersionRegex.exec(content);\n  const scalafmtVersion = regexResult?.groups?.version;\n\n  if (!scalafmtVersion) {\n    return null;\n  }\n\n  const scalafmtDependency: PackageDependency = {\n    datasource: GithubReleasesDatasource.id,\n    depName: 'scalafmt',\n    packageName: 'scalameta/scalafmt',\n    versioning: semverVersioning.id,\n    currentValue: scalafmtVersion,\n    extractVersion: '^v(?<version>\\\\S+)',\n  };\n\n  return {\n    deps: [scalafmtDependency],\n  };\n}\n"]}