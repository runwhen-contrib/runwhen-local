{"version":3,"file":"schema.js","sourceRoot":"","sources":["../../../../lib/modules/manager/docker-compose/schema.ts"],"names":[],"mappings":";;;AAAA,6BAAwB;AAExB,MAAM,oBAAoB,GAAG,OAAC,CAAC,MAAM,CAAC;IACpC,KAAK,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC5B,KAAK,EAAE,OAAC;SACL,KAAK,CAAC;QACL,OAAC,CAAC,MAAM,EAAE;QACV,OAAC,CAAC,MAAM,CAAC;YACP,OAAO,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;YAC9B,UAAU,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;SAClC,CAAC;KACH,CAAC;SACD,QAAQ,EAAE;CACd,CAAC,CAAC;AAEH,MAAM,mBAAmB,GAAG,OAAC,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;AAC3D,MAAM,uBAAuB,GAAG,OAAC,CAAC,MAAM,CAAC;IACvC,gEAAgE;IAChE,8FAA8F;IAC9F,OAAO,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC9B,QAAQ,EAAE,OAAC,CAAC,MAAM,CAAC,oBAAoB,CAAC;CACzC,CAAC,CAAC;AAEU,QAAA,iBAAiB,GAC5B,uBAAuB,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC","sourcesContent":["import { z } from 'zod';\n\nconst DockerComposeService = z.object({\n  image: z.string().optional(),\n  build: z\n    .union([\n      z.string(),\n      z.object({\n        context: z.string().optional(),\n        dockerfile: z.string().optional(),\n      }),\n    ])\n    .optional(),\n});\n\nconst DockerComposeFileV1 = z.record(DockerComposeService);\nconst DockerComposeFileModern = z.object({\n  // compose does not use this strictly, so we shouldn't be either\n  // https://docs.docker.com/compose/compose-file/04-version-and-name/#version-top-level-element\n  version: z.string().optional(),\n  services: z.record(DockerComposeService),\n});\n\nexport const DockerComposeFile =\n  DockerComposeFileModern.or(DockerComposeFileV1);\nexport type DockerComposeFile = z.infer<typeof DockerComposeFile>;\n"]}