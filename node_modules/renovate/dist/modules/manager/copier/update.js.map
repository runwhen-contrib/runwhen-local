{"version":3,"file":"update.js","sourceRoot":"","sources":["../../../../lib/modules/manager/copier/update.ts"],"names":[],"mappings":";;AAUA,4CAWC;AArBD,4CAAyC;AAGzC,MAAM,UAAU,GAAG,iBAAiB,CAAC;AAErC;;;;GAIG;AACH,SAAgB,gBAAgB,CAAC,EAC/B,WAAW,EACX,OAAO,GACgB;IACvB,eAAM,CAAC,KAAK,CAAC,EAAE,OAAO,EAAE,EAAE,2BAA2B,CAAC,CAAC;IACvD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC;QACtC,eAAM,CAAC,KAAK,CAAC,yDAAyD,CAAC,CAAC;QACxE,OAAO,GAAG,WAAW,KAAK,UAAU,EAAE,CAAC;IACzC,CAAC;IAED,OAAO,WAAW,CAAC;AACrB,CAAC","sourcesContent":["import { logger } from '../../../logger';\nimport type { UpdateDependencyConfig } from '../types';\n\nconst updateLine = '#copier updated';\n\n/**\n * updateDependency appends a comment line once.\n * This is only for the purpose of triggering the artifact update.\n * Copier needs to update its answers file itself.\n */\nexport function updateDependency({\n  fileContent,\n  upgrade,\n}: UpdateDependencyConfig): string | null {\n  logger.trace({ upgrade }, `copier.updateDependency()`);\n  if (!fileContent.endsWith(updateLine)) {\n    logger.debug(`append update line to the fileContent if it hasn't been`);\n    return `${fileContent}\\n${updateLine}`;\n  }\n\n  return fileContent;\n}\n"]}