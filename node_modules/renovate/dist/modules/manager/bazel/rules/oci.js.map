{"version":3,"file":"oci.js","sourceRoot":"","sources":["../../../../../lib/modules/manager/bazel/rules/oci.ts"],"names":[],"mappings":";;;AAAA,6BAAwB;AACxB,uDAA8D;AAC9D,uDAAoE;AAGvD,QAAA,QAAQ,GAAG,CAAC,UAAU,EAAE,WAAW,CAAU,CAAC;AAE9C,QAAA,SAAS,GAAG,OAAC;KACvB,MAAM,CAAC;IACN,IAAI,EAAE,OAAC,CAAC,IAAI,CAAC,gBAAQ,CAAC;IACtB,IAAI,EAAE,OAAC,CAAC,MAAM,EAAE;IAChB,KAAK,EAAE,OAAC,CAAC,MAAM,EAAE;IACjB,GAAG,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC1B,MAAM,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;CAC9B,CAAC;KACD,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,EAAuB,EAAE,CAAC;IACtE;QACE,UAAU,EAAE,yBAAgB,CAAC,EAAE;QAC/B,UAAU,EAAE,WAAgB;QAC5B,OAAO,EAAE,IAAI;QACb,OAAO,EAAE,IAAI;QACb,WAAW,EAAE,KAAK;QAClB,YAAY,EAAE,GAAG;QACjB,aAAa,EAAE,MAAM;KACtB;CACF,CAAC,CAAC","sourcesContent":["import { z } from 'zod';\nimport { DockerDatasource } from '../../../datasource/docker';\nimport { id as dockerVersioning } from '../../../versioning/docker';\nimport type { PackageDependency } from '../../types';\n\nexport const ociRules = ['oci_pull', '_oci_pull'] as const;\n\nexport const OciTarget = z\n  .object({\n    rule: z.enum(ociRules),\n    name: z.string(),\n    image: z.string(),\n    tag: z.string().optional(),\n    digest: z.string().optional(),\n  })\n  .transform(({ rule, name, image, tag, digest }): PackageDependency[] => [\n    {\n      datasource: DockerDatasource.id,\n      versioning: dockerVersioning,\n      depType: rule,\n      depName: name,\n      packageName: image,\n      currentValue: tag,\n      currentDigest: digest,\n    },\n  ]);\n"]}