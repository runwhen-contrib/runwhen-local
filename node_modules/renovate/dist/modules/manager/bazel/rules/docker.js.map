{"version":3,"file":"docker.js","sourceRoot":"","sources":["../../../../../lib/modules/manager/bazel/rules/docker.ts"],"names":[],"mappings":";;;AAAA,6BAAwB;AACxB,uDAA8D;AAC9D,uDAAoE;AAGvD,QAAA,WAAW,GAAG,CAAC,gBAAgB,EAAE,iBAAiB,CAAU,CAAC;AAE7D,QAAA,YAAY,GAAG,OAAC;KAC1B,MAAM,CAAC;IACN,IAAI,EAAE,OAAC,CAAC,IAAI,CAAC,mBAAW,CAAC;IACzB,IAAI,EAAE,OAAC,CAAC,MAAM,EAAE;IAChB,GAAG,EAAE,OAAC,CAAC,MAAM,EAAE;IACf,MAAM,EAAE,OAAC,CAAC,MAAM,EAAE;IAClB,UAAU,EAAE,OAAC,CAAC,MAAM,EAAE;IACtB,QAAQ,EAAE,OAAC,CAAC,MAAM,EAAE;CACrB,CAAC;KACD,SAAS,CACR,CAAC,EACC,IAAI,EACJ,IAAI,EACJ,UAAU,EACV,GAAG,EACH,MAAM,EACN,QAAQ,GACT,EAAuB,EAAE,CAAC;IACzB;QACE,UAAU,EAAE,yBAAgB,CAAC,EAAE;QAC/B,UAAU,EAAE,WAAgB;QAC5B,OAAO,EAAE,IAAI;QACb,OAAO,EAAE,IAAI;QACb,WAAW,EAAE,UAAU;QACvB,YAAY,EAAE,GAAG;QACjB,aAAa,EAAE,MAAM;QACrB,YAAY,EAAE,CAAC,QAAQ,CAAC;KACzB;CACF,CACF,CAAC","sourcesContent":["import { z } from 'zod';\nimport { DockerDatasource } from '../../../datasource/docker';\nimport { id as dockerVersioning } from '../../../versioning/docker';\nimport type { PackageDependency } from '../../types';\n\nexport const dockerRules = ['container_pull', '_container_pull'] as const;\n\nexport const DockerTarget = z\n  .object({\n    rule: z.enum(dockerRules),\n    name: z.string(),\n    tag: z.string(),\n    digest: z.string(),\n    repository: z.string(),\n    registry: z.string(),\n  })\n  .transform(\n    ({\n      rule,\n      name,\n      repository,\n      tag,\n      digest,\n      registry,\n    }): PackageDependency[] => [\n      {\n        datasource: DockerDatasource.id,\n        versioning: dockerVersioning,\n        depType: rule,\n        depName: name,\n        packageName: repository,\n        currentValue: tag,\n        currentDigest: digest,\n        registryUrls: [registry],\n      },\n    ],\n  );\n"]}