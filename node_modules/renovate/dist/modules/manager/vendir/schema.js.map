{"version":3,"file":"schema.js","sourceRoot":"","sources":["../../../../lib/modules/manager/vendir/schema.ts"],"names":[],"mappings":";;;AAAA,6BAAwB;AACxB,6DAAwD;AAE3C,QAAA,cAAc,GAAG,OAAC,CAAC,MAAM,CAAC;IACrC,UAAU,EAAE,OAAC,CAAC,OAAO,CAAC,yBAAyB,CAAC;IAChD,IAAI,EAAE,OAAC,CAAC,OAAO,CAAC,QAAQ,CAAC;CAC1B,CAAC,CAAC;AAEU,QAAA,MAAM,GAAG,OAAC,CAAC,MAAM,CAAC;IAC7B,GAAG,EAAE,OAAC,CAAC,MAAM,EAAE;IACf,GAAG,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,wBAAwB,CAAC;IAC/C,KAAK,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;CAC7B,CAAC,CAAC;AAEU,QAAA,aAAa,GAAG,OAAC,CAAC,MAAM,CAAC;IACpC,IAAI,EAAE,OAAC,CAAC,MAAM,EAAE;IAChB,GAAG,EAAE,OAAC,CAAC,MAAM,EAAE;CAChB,CAAC,CAAC;AAEU,QAAA,SAAS,GAAG,OAAC,CAAC,MAAM,CAAC;IAChC,IAAI,EAAE,OAAC,CAAC,MAAM,EAAE;IAChB,OAAO,EAAE,OAAC,CAAC,MAAM,EAAE;IACnB,UAAU,EAAE,OAAC,CAAC,MAAM,CAAC;QACnB,GAAG,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,wBAAwB,CAAC;KAChD,CAAC;CACH,CAAC,CAAC;AAEU,QAAA,gBAAgB,GAAG,OAAC,CAAC,MAAM,CAAC;IACvC,IAAI,EAAE,OAAC,CAAC,MAAM,EAAE;IAChB,SAAS,EAAE,iBAAS;CACrB,CAAC,CAAC;AAEU,QAAA,aAAa,GAAG,OAAC,CAAC,MAAM,CAAC;IACpC,IAAI,EAAE,OAAC,CAAC,MAAM,EAAE;IAChB,GAAG,EAAE,cAAM;CACZ,CAAC,CAAC;AAEU,QAAA,oBAAoB,GAAG,OAAC,CAAC,MAAM,CAAC;IAC3C,IAAI,EAAE,OAAC,CAAC,MAAM,EAAE;IAChB,aAAa,EAAE,qBAAa;CAC7B,CAAC,CAAC;AAEU,QAAA,QAAQ,GAAG,OAAC,CAAC,KAAK,CAAC;IAC9B,wBAAgB;IAChB,qBAAa;IACb,4BAAoB;CACrB,CAAC,CAAC;AAEU,QAAA,MAAM,GAAG,sBAAc,CAAC,MAAM,CAAC;IAC1C,WAAW,EAAE,OAAC,CAAC,KAAK,CAClB,OAAC,CAAC,MAAM,CAAC;QACP,IAAI,EAAE,OAAC,CAAC,MAAM,EAAE;QAChB,QAAQ,EAAE,IAAA,yBAAU,EAAC,gBAAQ,CAAC;KAC/B,CAAC,CACH;CACF,CAAC,CAAC","sourcesContent":["import { z } from 'zod';\nimport { LooseArray } from '../../../util/schema-utils';\n\nexport const VendirResource = z.object({\n  apiVersion: z.literal('vendir.k14s.io/v1alpha1'),\n  kind: z.literal('Config'),\n});\n\nexport const GitRef = z.object({\n  ref: z.string(),\n  url: z.string().regex(/^(?:ssh|https?):\\/\\/.+/),\n  depth: z.number().optional(),\n});\n\nexport const GithubRelease = z.object({\n  slug: z.string(),\n  tag: z.string(),\n});\n\nexport const HelmChart = z.object({\n  name: z.string(),\n  version: z.string(),\n  repository: z.object({\n    url: z.string().regex(/^(?:oci|https?):\\/\\/.+/),\n  }),\n});\n\nexport const HelmChartContent = z.object({\n  path: z.string(),\n  helmChart: HelmChart,\n});\n\nexport const GitRefContent = z.object({\n  path: z.string(),\n  git: GitRef,\n});\n\nexport const GithubReleaseContent = z.object({\n  path: z.string(),\n  githubRelease: GithubRelease,\n});\n\nexport const Contents = z.union([\n  HelmChartContent,\n  GitRefContent,\n  GithubReleaseContent,\n]);\n\nexport const Vendir = VendirResource.extend({\n  directories: z.array(\n    z.object({\n      path: z.string(),\n      contents: LooseArray(Contents),\n    }),\n  ),\n});\n\nexport type VendirDefinition = z.infer<typeof Vendir>;\nexport type HelmChartDefinition = z.infer<typeof HelmChart>;\nexport type GitRefDefinition = z.infer<typeof GitRef>;\nexport type GithubReleaseDefinition = z.infer<typeof GithubRelease>;\n"]}