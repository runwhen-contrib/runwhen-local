{"version":3,"file":"common.js","sourceRoot":"","sources":["../../../../../../lib/modules/manager/npm/update/dependency/common.ts"],"names":[],"mappings":";;AAGA,wCAkBC;AAED,kDAQC;AA/BD,kDAA+C;AAG/C,SAAgB,cAAc,CAAC,OAAgB;IAC7C,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC;QAC7B,OAAO,IAAI,CAAC;IACd,CAAC;IACD,IAAI,OAAO,CAAC,aAAa,EAAE,CAAC;QAC1B,eAAM,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;QACpC,OAAO,OAAO,CAAC,eAAe,CAAC,OAAO,CACpC,OAAO,CAAC,aAAa;QACrB,cAAc;QACd,OAAO,CAAC,SAAU,CAAC,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,CAC9D,CAAC;IACJ,CAAC;SAAM,CAAC;QACN,eAAM,CAAC,KAAK,CAAC,0BAA0B,CAAC,CAAC;QACzC,OAAO,OAAO,CAAC,eAAe,CAAC,OAAO,CACpC,OAAO,CAAC,YAAY,EACpB,OAAO,CAAC,QAAQ,CACjB,CAAC;IACJ,CAAC;AACH,CAAC;AAED,SAAgB,mBAAmB,CACjC,KAAyB,EACzB,OAAgB;IAEhB,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC;QAC7B,OAAO,IAAI,CAAC;IACd,CAAC;IACD,OAAO,OAAO,OAAO,CAAC,WAAW,IAAI,KAAK,EAAE,CAAC;AAC/C,CAAC","sourcesContent":["import { logger } from '../../../../../logger';\nimport type { Upgrade } from '../../../types';\n\nexport function getNewGitValue(upgrade: Upgrade): string | null {\n  if (!upgrade.currentRawValue) {\n    return null;\n  }\n  if (upgrade.currentDigest) {\n    logger.debug('Updating git digest');\n    return upgrade.currentRawValue.replace(\n      upgrade.currentDigest,\n      // TODO #22198\n      upgrade.newDigest!.substring(0, upgrade.currentDigest.length),\n    );\n  } else {\n    logger.debug('Updating git version tag');\n    return upgrade.currentRawValue.replace(\n      upgrade.currentValue,\n      upgrade.newValue,\n    );\n  }\n}\n\nexport function getNewNpmAliasValue(\n  value: string | undefined,\n  upgrade: Upgrade,\n): string | null {\n  if (!upgrade.npmPackageAlias) {\n    return null;\n  }\n  return `npm:${upgrade.packageName}@${value}`;\n}\n"]}