{"version":3,"file":"host-rules.js","sourceRoot":"","sources":["../../../../lib/modules/manager/bundler/host-rules.ts"],"names":[],"mappings":";;AAUA,wDAMC;AAED,oEASC;AA1BD,yDAAmD;AAEnD,SAAS,iBAAiB,CAAC,IAAc;IACvC,OAAO,CACL,CAAC,CAAC,IAAI,CAAC,YAAY;QACnB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CACvD,CAAC;AACJ,CAAC;AAED,SAAgB,sBAAsB,CAAC,EACrC,QAAQ,GAGT;IACC,OAAO,IAAA,oBAAO,EAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;AACzD,CAAC;AAED,SAAgB,4BAA4B,CAAC,QAAkB;IAC7D,IAAI,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACtB,MAAM,QAAQ,GAAG,kBAAkB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACvD,uBAAuB;QACvB,OAAO,GAAG,QAAQ,IAAI,QAAQ,CAAC,QAAS,EAAE,CAAC;IAC7C,CAAC;IAED,uBAAuB;IACvB,OAAO,GAAG,QAAQ,CAAC,KAAM,EAAE,CAAC;AAC9B,CAAC","sourcesContent":["import type { HostRule } from '../../../types';\nimport { findAll } from '../../../util/host-rules';\n\nfunction isAuthenticatable(rule: HostRule): boolean {\n  return (\n    !!rule.resolvedHost &&\n    ((!!rule.username && !!rule.password) || !!rule.token)\n  );\n}\n\nexport function findAllAuthenticatable({\n  hostType,\n}: {\n  hostType: string;\n}): HostRule[] {\n  return findAll({ hostType }).filter(isAuthenticatable);\n}\n\nexport function getAuthenticationHeaderValue(hostRule: HostRule): string {\n  if (hostRule.username) {\n    const username = encodeURIComponent(hostRule.username);\n    // TODO: types (#22198)\n    return `${username}:${hostRule.password!}`;\n  }\n\n  // TODO: types (#22198)\n  return `${hostRule.token!}`;\n}\n"]}