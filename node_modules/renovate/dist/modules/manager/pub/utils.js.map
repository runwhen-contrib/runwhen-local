{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../../../lib/modules/manager/pub/utils.ts"],"names":[],"mappings":";;AAIA,oCAWC;AAED,4CAcC;AA/BD,4CAAyC;AAEzC,qCAAwD;AAExD,SAAgB,YAAY,CAC1B,QAAgB,EAChB,WAAmB;IAEnB,MAAM,GAAG,GAAG,oBAAW,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;IAC/C,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC;QAChB,OAAO,GAAG,CAAC,IAAI,CAAC;IAClB,CAAC;SAAM,CAAC;QACN,eAAM,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE,wBAAwB,CAAC,CAAC;IACvE,CAAC;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAED,SAAgB,gBAAgB,CAC9B,QAAgB,EAChB,WAAmB;IAEnB,MAAM,GAAG,GAAG,wBAAe,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;IACnD,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC;QAChB,OAAO,GAAG,CAAC,IAAI,CAAC;IAClB,CAAC;SAAM,CAAC;QACN,eAAM,CAAC,KAAK,CACV,EAAE,GAAG,EAAE,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,EAC5B,iCAAiC,CAClC,CAAC;IACJ,CAAC;IACD,OAAO,IAAI,CAAC;AACd,CAAC","sourcesContent":["import { logger } from '../../../logger';\nimport type { PubspecLockSchema, PubspecSchema } from './schema';\nimport { PubspecLockYaml, PubspecYaml } from './schema';\n\nexport function parsePubspec(\n  fileName: string,\n  fileContent: string,\n): PubspecSchema | null {\n  const res = PubspecYaml.safeParse(fileContent);\n  if (res.success) {\n    return res.data;\n  } else {\n    logger.debug({ err: res.error, fileName }, 'Error parsing pubspec.');\n  }\n  return null;\n}\n\nexport function parsePubspecLock(\n  fileName: string,\n  fileContent: string,\n): PubspecLockSchema | null {\n  const res = PubspecLockYaml.safeParse(fileContent);\n  if (res.success) {\n    return res.data;\n  } else {\n    logger.debug(\n      { err: res.error, fileName },\n      'Error parsing pubspec lockfile.',\n    );\n  }\n  return null;\n}\n"]}