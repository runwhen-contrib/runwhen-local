{"version":3,"file":"extract.js","sourceRoot":"","sources":["../../../../lib/modules/manager/batect-wrapper/extract.ts"],"names":[],"mappings":";;AAQA,gDAqBC;AA7BD,4CAAyC;AACzC,+CAA4C;AAC5C,sEAA4E;AAC5E,oDAAiE;AAGjE,MAAM,aAAa,GAAG,IAAA,aAAK,EAAC,sBAAsB,CAAC,CAAC;AAEpD,SAAgB,kBAAkB,CAChC,WAAmB;IAEnB,eAAM,CAAC,KAAK,CAAC,6BAA6B,CAAC,CAAC;IAC5C,MAAM,KAAK,GAAG,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAE9C,IAAI,KAAK,KAAK,IAAI,EAAE,CAAC;QACnB,OAAO,IAAI,CAAC;IACd,CAAC;IAED,MAAM,UAAU,GAAsB;QACpC,OAAO,EAAE,eAAe;QACxB,kBAAkB,EAAE,QAAQ;QAC5B,YAAY,EAAE,KAAK,CAAC,CAAC,CAAC;QACtB,UAAU,EAAE,0CAAwB,CAAC,EAAE;QACvC,UAAU,EAAE,WAAgB;KAC7B,CAAC;IAEF,eAAM,CAAC,KAAK,CAAC,UAAU,EAAE,8BAA8B,CAAC,CAAC;IAEzD,OAAO,EAAE,IAAI,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC;AAChC,CAAC","sourcesContent":["import { logger } from '../../../logger';\nimport { regEx } from '../../../util/regex';\nimport { GithubReleasesDatasource } from '../../datasource/github-releases';\nimport { id as semverVersioning } from '../../versioning/semver';\nimport type { PackageDependency, PackageFileContent } from '../types';\n\nconst VERSION_REGEX = regEx(/^\\s+VERSION=\"(.*)\"$/m);\n\nexport function extractPackageFile(\n  fileContent: string,\n): PackageFileContent | null {\n  logger.trace('batect.extractPackageFile()');\n  const match = VERSION_REGEX.exec(fileContent);\n\n  if (match === null) {\n    return null;\n  }\n\n  const dependency: PackageDependency = {\n    depName: 'batect/batect',\n    commitMessageTopic: 'Batect',\n    currentValue: match[1],\n    datasource: GithubReleasesDatasource.id,\n    versioning: semverVersioning,\n  };\n\n  logger.trace(dependency, 'Found Batect wrapper version');\n\n  return { deps: [dependency] };\n}\n"]}