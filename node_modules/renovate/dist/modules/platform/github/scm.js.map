{"version":3,"file":"scm.js","sourceRoot":"","sources":["../../../../lib/modules/platform/github/scm.ts"],"names":[],"mappings":";;;;AAAA,+DAAyC;AAEzC,gDAA+C;AAC/C,yBAA0C;AAE1C,MAAa,SAAU,SAAQ,2BAAa;IACjC,aAAa,CACpB,YAA+B;QAE/B,IAAI,cAAc,GAAG,YAAY,CAAC,cAAc,CAAC;QACjD,IAAI,cAAc,KAAK,MAAM,IAAI,IAAA,UAAO,GAAE,EAAE,CAAC;YAC3C,cAAc,GAAG,SAAS,CAAC;QAC7B,CAAC;QAED,OAAO,cAAc,KAAK,SAAS;YACjC,CAAC,CAAC,IAAA,cAAW,EAAC,YAAY,CAAC;YAC3B,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;IACpC,CAAC;CACF;AAbD,8BAaC","sourcesContent":["import * as git from '../../../util/git';\nimport type { CommitFilesConfig, LongCommitSha } from '../../../util/git/types';\nimport { DefaultGitScm } from '../default-scm';\nimport { commitFiles, isGHApp } from './';\n\nexport class GithubScm extends DefaultGitScm {\n  override commitAndPush(\n    commitConfig: CommitFilesConfig,\n  ): Promise<LongCommitSha | null> {\n    let platformCommit = commitConfig.platformCommit;\n    if (platformCommit === 'auto' && isGHApp()) {\n      platformCommit = 'enabled';\n    }\n\n    return platformCommit === 'enabled'\n      ? commitFiles(commitConfig)\n      : git.commitFiles(commitConfig);\n  }\n}\n"]}