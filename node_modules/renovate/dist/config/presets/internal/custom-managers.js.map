{"version":3,"file":"custom-managers.js","sourceRoot":"","sources":["../../../../lib/config/presets/internal/custom-managers.ts"],"names":[],"mappings":";;;AAEA,+EAA+E;AAElE,QAAA,OAAO,GAA2B;IAC7C,sBAAsB,EAAE;QACtB,cAAc,EAAE;YACd;gBACE,UAAU,EAAE,OAAO;gBACnB,SAAS,EAAE;oBACT,+BAA+B;oBAC/B,8BAA8B;iBAC/B;gBACD,YAAY,EAAE;oBACZ,4SAA4S;iBAC7S;aACF;SACF;QACD,WAAW,EACT,mEAAmE;KACtE;IACD,aAAa,EAAE;QACb,cAAc,EAAE;YACd;gBACE,UAAU,EAAE,SAAS;gBACrB,kBAAkB,EAAE,KAAK;gBACzB,eAAe,EAAE,gBAAgB;gBACjC,UAAU,EAAE,MAAM;gBAClB,SAAS,EAAE,CAAC,oBAAoB,CAAC;gBACjC,YAAY,EAAE,CAAC,iDAAiD,CAAC;aAClE;SACF;QACD,WAAW,EACT,+DAA+D;KAClE;IACD,0BAA0B,EAAE;QAC1B,cAAc,EAAE;YACd;gBACE,UAAU,EAAE,OAAO;gBACnB,SAAS,EAAE,CAAC,mCAAmC,CAAC;gBAChD,YAAY,EAAE;oBACZ,0VAA0V;iBAC3V;aACF;SACF;QACD,WAAW,EAAE,oDAAoD;KAClE;IACD,kBAAkB,EAAE;QAClB,cAAc,EAAE;YACd;gBACE,UAAU,EAAE,OAAO;gBACnB,SAAS,EAAE;oBACT,wCAAwC;oBACxC,yCAAyC;iBAC1C;gBACD,YAAY,EAAE;oBACZ,6VAA6V;iBAC9V;aACF;SACF;QACD,WAAW,EAAE,6CAA6C;KAC3D;IACD,qBAAqB,EAAE;QACrB,cAAc,EAAE;YACd;gBACE,UAAU,EAAE,OAAO;gBACnB,SAAS,EAAE;oBACT,yFAAyF;oBACzF,sBAAsB;iBACvB;gBACD,YAAY,EAAE;oBACZ,4SAA4S;iBAC7S;aACF;SACF;QACD,WAAW,EACT,iEAAiE;KACpE;IACD,sBAAsB,EAAE;QACtB,cAAc,EAAE;YACd;gBACE,UAAU,EAAE,OAAO;gBACnB,SAAS,EAAE,CAAC,uBAAuB,CAAC;gBACpC,YAAY,EAAE;oBACZ,2UAA2U;iBAC5U;aACF;SACF;QACD,WAAW,EACT,kEAAkE;KACrE;IACD,wBAAwB,EAAE;QACxB,cAAc,EAAE;YACd;gBACE,UAAU,EAAE,OAAO;gBACnB,kBAAkB,EAAE,QAAQ;gBAC5B,SAAS,EAAE,CAAC,oBAAoB,CAAC;gBACjC,YAAY,EAAE;oBACZ,6FAA6F;iBAC9F;aACF;SACF;QACD,WAAW,EAAE,uDAAuD;KACrE;IACD,gBAAgB,EAAE;QAChB,cAAc,EAAE;YACd;gBACE,UAAU,EAAE,OAAO;gBACnB,SAAS,EAAE;oBACT,gBAAgB;oBAChB,gBAAgB;oBAChB,mBAAmB;oBACnB,QAAQ;iBACT;gBACD,YAAY,EAAE;oBACZ,iVAAiV;iBAClV;aACF;SACF;QACD,WAAW,EAAE,2CAA2C;KACzD;IACD,qBAAqB,EAAE;QACrB,cAAc,EAAE;YACd;gBACE,UAAU,EAAE,OAAO;gBACnB,kBAAkB,EAChB,wDAAwD;gBAC1D,SAAS,EAAE,CAAC,iBAAiB,CAAC;gBAC9B,YAAY,EAAE;oBACZ,6RAA6R;iBAC9R;gBACD,kBAAkB,EAAE,2CAA2C;aAChE;SACF;QACD,WAAW,EAAE,mDAAmD;KACjE;IACD,cAAc,EAAE;QACd,cAAc,EAAE;YACd;gBACE,UAAU,EAAE,OAAO;gBACnB,SAAS,EAAE,CAAC,cAAc,CAAC;gBAC3B,YAAY,EAAE;oBACZ,8LAA8L;iBAC/L;gBACD,kBAAkB,EAAE,2CAA2C;aAChE;SACF;QACD,WAAW,EAAE,kDAAkD;KAChE;CACF,CAAC","sourcesContent":["import type { Preset } from '../types';\n\n/* eslint sort-keys: [\"error\", \"asc\", {caseSensitive: false, natural: true}] */\n\nexport const presets: Record<string, Preset> = {\n  azurePipelinesVersions: {\n    customManagers: [\n      {\n        customType: 'regex',\n        fileMatch: [\n          '(^|/).azuredevops/.+\\\\.ya?ml$',\n          'azure.*pipelines?.*\\\\.ya?ml$',\n        ],\n        matchStrings: [\n          '# renovate: datasource=(?<datasource>[a-zA-Z0-9-._]+?) depName=(?<depName>[^\\\\s]+?)(?: (?:lookupName|packageName)=(?<packageName>[^\\\\s]+?))?(?: versioning=(?<versioning>[^\\\\s]+?))?(?: extractVersion=(?<extractVersion>[^\\\\s]+?))?\\\\s+[A-Za-z0-9_]+?_VERSION\\\\s*:\\\\s*[\"\\']?(?<currentValue>.+?)[\"\\']?\\\\s',\n        ],\n      },\n    ],\n    description:\n      'Update `_VERSION` environment variables in Azure Pipelines files.',\n  },\n  biomeVersions: {\n    customManagers: [\n      {\n        customType: 'jsonata',\n        datasourceTemplate: 'npm',\n        depNameTemplate: '@biomejs/biome',\n        fileFormat: 'json',\n        fileMatch: ['(^|/)biome.jsonc?$'],\n        matchStrings: ['{\"currentValue\": $split($.\"$schema\",(\"/\"))[-2]}'],\n      },\n    ],\n    description:\n      'Update `$schema` version in `biome.json` configuration files.',\n  },\n  bitbucketPipelinesVersions: {\n    customManagers: [\n      {\n        customType: 'regex',\n        fileMatch: ['(^|/)bitbucket-pipelines\\\\.ya?ml$'],\n        matchStrings: [\n          '# renovate: datasource=(?<datasource>[a-zA-Z0-9-._]+?) depName=(?<depName>[^\\\\s]+?)(?: (lookupName|packageName)=(?<packageName>[^\\\\s]+?))?(?: versioning=(?<versioning>[^\\\\s]+?))?(?: extractVersion=(?<extractVersion>[^\\\\s]+?))?(?: registryUrl=(?<registryUrl>[^\\\\s]+?))?\\\\s+.*\\\\s+[A-Za-z0-9_]+?_VERSION[ =:]\\\\s?[\"\\']?(?<currentValue>.+?)[\"\\']?\\\\s',\n        ],\n      },\n    ],\n    description: 'Update `_VERSION` variables in Bitbucket Pipelines',\n  },\n  dockerfileVersions: {\n    customManagers: [\n      {\n        customType: 'regex',\n        fileMatch: [\n          '(^|/|\\\\.)([Dd]ocker|[Cc]ontainer)file$',\n          '(^|/)([Dd]ocker|[Cc]ontainer)file[^/]*$',\n        ],\n        matchStrings: [\n          '# renovate: datasource=(?<datasource>[a-zA-Z0-9-._]+?) depName=(?<depName>[^\\\\s]+?)(?: (lookupName|packageName)=(?<packageName>[^\\\\s]+?))?(?: versioning=(?<versioning>[^\\\\s]+?))?(?: extractVersion=(?<extractVersion>[^\\\\s]+?))?(?: registryUrl=(?<registryUrl>[^\\\\s]+?))?\\\\s(?:ENV|ARG)\\\\s+[A-Za-z0-9_]+?_VERSION[ =][\"\\']?(?<currentValue>.+?)[\"\\']?\\\\s',\n        ],\n      },\n    ],\n    description: 'Update `_VERSION` variables in Dockerfiles.',\n  },\n  githubActionsVersions: {\n    customManagers: [\n      {\n        customType: 'regex',\n        fileMatch: [\n          '(^|/)(workflow-templates|\\\\.(?:github|gitea|forgejo)/(?:workflows|actions))/.+\\\\.ya?ml$',\n          '(^|/)action\\\\.ya?ml$',\n        ],\n        matchStrings: [\n          '# renovate: datasource=(?<datasource>[a-zA-Z0-9-._]+?) depName=(?<depName>[^\\\\s]+?)(?: (?:lookupName|packageName)=(?<packageName>[^\\\\s]+?))?(?: versioning=(?<versioning>[^\\\\s]+?))?(?: extractVersion=(?<extractVersion>[^\\\\s]+?))?\\\\s+[A-Za-z0-9_]+?_VERSION\\\\s*:\\\\s*[\"\\']?(?<currentValue>.+?)[\"\\']?\\\\s',\n        ],\n      },\n    ],\n    description:\n      'Update `_VERSION` environment variables in GitHub Action files.',\n  },\n  gitlabPipelineVersions: {\n    customManagers: [\n      {\n        customType: 'regex',\n        fileMatch: ['\\\\.gitlab-ci\\\\.ya?ml$'],\n        matchStrings: [\n          '# renovate: datasource=(?<datasource>[a-zA-Z0-9-._]+?) depName=(?<depName>[^\\\\s]+?)(?: (?:packageName)=(?<packageName>[^\\\\s]+?))?(?: versioning=(?<versioning>[^\\\\s]+?))?(?: extractVersion=(?<extractVersion>[^\\\\s]+?))?(?: registryUrl=(?<registryUrl>[^\\\\s]+?))?\\\\s+[A-Za-z0-9_]+?_VERSION\\\\s*:\\\\s*[\"\\']?(?<currentValue>.+?)[\"\\']?\\\\s',\n        ],\n      },\n    ],\n    description:\n      'Update `_VERSION` environment variables in GitLab pipeline file.',\n  },\n  helmChartYamlAppVersions: {\n    customManagers: [\n      {\n        customType: 'regex',\n        datasourceTemplate: 'docker',\n        fileMatch: ['(^|/)Chart\\\\.yaml$'],\n        matchStrings: [\n          '#\\\\s*renovate: image=(?<depName>.*?)\\\\s+appVersion:\\\\s*[\"\\']?(?<currentValue>[\\\\w+\\\\.\\\\-]*)',\n        ],\n      },\n    ],\n    description: 'Update `appVersion` value in Helm chart `Chart.yaml`.',\n  },\n  makefileVersions: {\n    customManagers: [\n      {\n        customType: 'regex',\n        fileMatch: [\n          '(^|/)Makefile$',\n          '(^|/)makefile$',\n          '(^|/)GNUMakefile$',\n          '\\\\.mk$',\n        ],\n        matchStrings: [\n          '# renovate: datasource=(?<datasource>[a-zA-Z0-9-._]+?) depName=(?<depName>[^\\\\s]+?)(?: (?:packageName)=(?<packageName>[^\\\\s]+?))?(?: versioning=(?<versioning>[^\\\\s]+?))?(?: extractVersion=(?<extractVersion>[^\\\\s]+?))?(?: registryUrl=(?<registryUrl>[^\\\\s]+?))?\\\\s+[A-Za-z0-9_]+?_VERSION\\\\s*:*\\\\??=\\\\s*[\"\\']?(?<currentValue>.+?)[\"\\']?\\\\s',\n        ],\n      },\n    ],\n    description: 'Update `_VERSION` variables in Makefiles.',\n  },\n  mavenPropertyVersions: {\n    customManagers: [\n      {\n        customType: 'regex',\n        datasourceTemplate:\n          '{{#if datasource}}{{{datasource}}}{{else}}maven{{/if}}',\n        fileMatch: ['(^|/)pom\\\\.xml$'],\n        matchStrings: [\n          '<!--\\\\s?renovate:( datasource=(?<datasource>[a-zA-Z0-9-._]+?))? depName=(?<depName>[^\\\\s]+?)(?: packageName=(?<packageName>[^\\\\s]+?))?(?: versioning=(?<versioning>[^\\\\s]+?))?(?: extractVersion=(?<extractVersion>[^\\\\s]+?))?\\\\s+-->\\\\s+<.+\\\\.version>(?<currentValue>.+)<\\\\/.+\\\\.version>',\n        ],\n        versioningTemplate: '{{#if versioning}}{{{versioning}}}{{/if}}',\n      },\n    ],\n    description: 'Update `*.version` properties in `pom.xml` files.',\n  },\n  tfvarsVersions: {\n    customManagers: [\n      {\n        customType: 'regex',\n        fileMatch: ['.+\\\\.tfvars$'],\n        matchStrings: [\n          '#\\\\s*renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)( versioning=(?<versioning>.*?))?(?: extractVersion=(?<extractVersion>.*?))?\\\\s.*?_version\\\\s*=\\\\s*\"(?<currentValue>.*)\"',\n        ],\n        versioningTemplate: '{{#if versioning}}{{{versioning}}}{{/if}}',\n      },\n    ],\n    description: 'Update `*_version` variables in `.tfvars` files.',\n  },\n};\n"]}