{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../src/utils.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;AAEH,OAAO,EACL,iBAAiB,EACjB,kBAAkB,EAClB,sBAAsB,EACtB,WAAW,GACZ,MAAM,SAAS,CAAC;AAEjB,MAAM,UAAU,mBAAmB,CACjC,eAAuB;IAEvB,MAAM,oBAAoB,GAAG,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;IACjE,MAAM,gBAAgB,GAAG,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;IAEzD,IAAI,cAAc,GAAG,gBAAgB,CAAC;IACtC,IAAI,gBAAgB,IAAI,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;QAC5D,cAAc,GAAG,gBAAgB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;KACjD;IAED,IAAI,CAAC,cAAc,IAAI,CAAC,gBAAgB,EAAE;QACxC,OAAO,SAAS,CAAC;KAClB;IAED,OAAO,kBAAkB,cAAc,mBAAmB,oBAAoB,kCAAkC,eAAe,EAAE,CAAC;AACpI,CAAC;AAED,MAAM,UAAU,eAAe;IAC7B,OAAO,CAAC,CAAC,CACP,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC;QAC9B,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,iBAAiB,CAC/C,CAAC;AACJ,CAAC","sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FUNCTIONS_VERSION,\n  WEBSITE_OWNER_NAME,\n  WEBSITE_RESOURCE_GROUP,\n  WEBSITE_SKU,\n} from './types';\n\nexport function getAzureResourceUri(\n  websiteSiteName: string\n): string | undefined {\n  const websiteResourceGroup = process.env[WEBSITE_RESOURCE_GROUP];\n  const websiteOwnerName = process.env[WEBSITE_OWNER_NAME];\n\n  let subscriptionId = websiteOwnerName;\n  if (websiteOwnerName && websiteOwnerName.indexOf('+') !== -1) {\n    subscriptionId = websiteOwnerName.split('+')[0];\n  }\n\n  if (!subscriptionId && !websiteOwnerName) {\n    return undefined;\n  }\n\n  return `/subscriptions/${subscriptionId}/resourceGroups/${websiteResourceGroup}/providers/Microsoft.Web/sites/${websiteSiteName}`;\n}\n\nexport function isAzureFunction(): boolean {\n  return !!(\n    process.env[FUNCTIONS_VERSION] ||\n    process.env[WEBSITE_SKU] === 'FlexConsumption'\n  );\n}\n"]}